{% extends 'ButenkoHomeBundle:Default:layout.html.twig' %}

{% block content %}

    {% block form %}
        <div>
            {{ form(form, {'attr':{'novalidate': 'novalidate'}}) }}
        </div>
    {% endblock %}

    {% for post in posts %}

        <div class="panel panel-success">
            <div class="panel-heading">
                <h3 class="panel-title">
                    {{ post.getId() }}
                    <a href="{{ path('show_post', {'slug': post.getSlug()}) }}">Show</a>
                    <a href="{{ path('delete_post', {'slug': post.getSlug()}) }}">Delete</a>
                </h3>
            </div>
            <div class="panel-body">
                <p>{{ post.getName() }}</p>
                {#<p>{{ post.getBody | slice(0,100) }}</p>#}
                <p>{{ post.getBody | post_limiter(100) }}
                {{ dot_dot_dot(path('show_post', {'slug': post.getSlug()}))|raw }}</p>
            </div>
        </div>

    {% endfor %}

{% endblock %}

{% block footer %}
    <div class="navbar navbar-default navbar-fixed-bottom" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <div class="navbar-brand">
                    {{ knp_pagination_render(posts) }}
                </div>
            </div>
        </div>
    </div>
{% endblock %}